<beans
	xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:s="urn:java:ee"
	xmlns:mail="urn:java:org.jboss.seam.mail.core"
	xmlns:pb="urn:java:org.picketbox.core.authentication.http"
	xmlns:pbr="urn:java:org.picketbox.core.resource"
	xmlns:pbidm="urn:java:org.picketbox.core.identity.impl"
	xmlns:pbldapc="urn:java:org.picketbox.core.ldap.config"
	xmlns:pbAuthImpl="urn:java:org.picketbox.core.authentication.impl"
	xmlns:pbs="urn:java:org.picketbox.solder.authentication"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://docs.jboss.org/cdi/beans_1_0.xsd">
	<!-- This Solder configuration defines some of the authentication schemes 
		supported by PicketBox. Only the bean defined with the AuthenticationScheme 
		qualifier will be used. In this case the HTTPFormAuthentication. -->
	<!-- Configure a HTTPFormAuthentication bean -->
	<pb:HTTPFormAuthentication>
		<s:replaces/>
		<pbs:AuthenticationScheme/>
		<pb:authManager>
			<s:value>
				<pbAuthImpl:PropertiesFileBasedAuthenticationManager/>
			</s:value>
		</pb:authManager>
	</pb:HTTPFormAuthentication>
	<pbidm:LDAPBasedIdentityManager>
		<pbidm:basicLdapConfig>
			<s:value>
				<pbldapc:BasicLDAPStoreConfig>
					<pbldapc:storeURL>
						<s:value>ldap://localhost:10389/</s:value>
					</pbldapc:storeURL>
					<pbldapc:userName>
						<s:value>uid=jduke,ou=People,dc=jboss,dc=org</s:value>
					</pbldapc:userName>
					<pbldapc:userPassword>
						<s:value>theduke</s:value>
					</pbldapc:userPassword>
				</pbldapc:BasicLDAPStoreConfig>
			</s:value>
		</pbidm:basicLdapConfig>
		<pbidm:ldapSearchConfig>
			<s:value>
				<pbldapc:LDAPSearchConfig>
					<pbldapc:scope>
						<s:value>subtree</s:value>
					</pbldapc:scope>
					<pbldapc:searchBase>
						<s:value>ou=Roles,dc=jboss,dc=org</s:value>
					</pbldapc:searchBase>
					<pbldapc:searchAttributes>
						<s:value>cn</s:value>
					</pbldapc:searchAttributes>
					<pbldapc:searchFilterExpression>
						<s:value>member={0}</s:value>
					</pbldapc:searchFilterExpression>
					<pbldapc:filterArgs>
						<s:value>uid={0},ou=People,dc=jboss,dc=org</s:value>
					</pbldapc:filterArgs>
				</pbldapc:LDAPSearchConfig>
			</s:value>
		</pbidm:ldapSearchConfig>
	</pbidm:LDAPBasedIdentityManager>
	<!-- Configure a HTTPBasicAuthentication bean -->
	<pb:HTTPBasicAuthentication>
		<s:replaces/>
		<pb:authManager>
			<s:value>
				<pbAuthImpl:PropertiesFileBasedAuthenticationManager/>
			</s:value>
		</pb:authManager>
	</pb:HTTPBasicAuthentication>
	<!-- Configure a HTTPDigestAuthentication bean -->
	<pb:HTTPDigestAuthentication>
		<s:replaces/>
		<pb:authManager>
			<s:value>
				<pbAuthImpl:PropertiesFileBasedAuthenticationManager/>
			</s:value>
		</pb:authManager>
		<pb:realmName>
			<s:value>testrealm@host.com</s:value>
		</pb:realmName>
		<pb:opaque>
			<s:value>5ccc069c403ebaf9f0171e9517f40e41</s:value>
		</pb:opaque>
	</pb:HTTPDigestAuthentication>
	<pbr:ProtectedResourceManager>
		<s:replaces/>
		<pbr:resources>
			<s:value>
				<pbr:ProtectedResource
					pattern="/resources/*"
					constraint="NOT_PROTECTED"/>
			</s:value>
		</pbr:resources>
	</pbr:ProtectedResourceManager>
</beans>