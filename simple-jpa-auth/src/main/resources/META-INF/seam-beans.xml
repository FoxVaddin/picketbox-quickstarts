<beans
	xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:s="urn:java:ee"
	xmlns:mail="urn:java:org.jboss.seam.mail.core"
	xmlns:pb="urn:java:org.picketbox.core.authentication.http"
	xmlns:pbr="urn:java:org.picketbox.core.resource"
	xmlns:pbldapc="urn:java:org.picketbox.core.ldap.config"
	xmlns:pbAuthImpl="urn:java:org.picketbox.core.authentication.impl"
	xmlns:pbs="urn:java:org.picketbox.solder.authentication"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://docs.jboss.org/cdi/beans_1_0.xsd">
	
	<!-- 
		This Solder configuration defines some of the authentication schemes supported 
		by PicketBox. Only the bean defined with the AuthenticationScheme qualifier 
		will be used. In this case the HTTPFormAuthentication. 
	-->
	
	<!-- Configure a HTTPFormAuthentication bean -->
	<pb:HTTPFormAuthentication>
		<s:replaces/>
		<pbs:AuthenticationScheme/>
	</pb:HTTPFormAuthentication>

	<pbAuthImpl:DatabaseAuthenticationManager>
		<pbAuthImpl:jpaJNDIName>
			<s:value>java:/AuthTestEMF</s:value>
		</pbAuthImpl:jpaJNDIName>
		<pbAuthImpl:passwordQuery>
			<s:value>SELECT PASSWORD FROM PICKETBOX_USERS WHERE USERNAME = ?</s:value>
		</pbAuthImpl:passwordQuery>
	</pbAuthImpl:DatabaseAuthenticationManager>
	
	<pbr:ProtectedResourceManager>
		<s:replaces/>
		<pbr:resources>
			<s:value>
				<pbr:ProtectedResource pattern="/resources/*" constraint="NOT_PROTECTED"/>
			</s:value>
		</pbr:resources>
	</pbr:ProtectedResourceManager>
	
</beans>